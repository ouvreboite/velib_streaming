<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="624px" preserveAspectRatio="none" style="width:842px;height:624px;" version="1.1" viewBox="0 0 842 624" width="842px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="205" x="309.5" y="16.708">High level topology</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="140" x="342" y="37.6611">(Kafka Stream)</text><!--MD5=[6488079820aeb324570151f4bbdc2dca]
cluster Station status topology--><rect fill="#FFFFFF" height="565" style="stroke: #000000; stroke-width: 1.5;" width="367" x="464" y="48.9063"/><path d="M671,48.9063 L671,58.2031 L661,68.2031 L464,68.2031 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="197" x="467" y="62.9014">Station status topology</text><!--MD5=[8be2382164a18ca2ed43e492e30c65ff]
cluster Nearby traffic topology--><rect fill="#FFFFFF" height="339" style="stroke: #000000; stroke-width: 1.5;" width="433" x="7" y="161.9063"/><path d="M208,161.9063 L208,171.2031 L198,181.2031 L7,181.2031 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="191" x="10" y="175.9014">Nearby traffic topology</text><!--MD5=[d1148e26bc769c05cd12af7143d7e113]
entity stationAvailabilityClient--><rect fill="#FF7F50" height="52.5938" style="stroke: #FFFFFF; stroke-width: 1.5;" width="193" x="480.5" y="83.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="83" x="535.5" y="106.9014">«producer»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="490.5" y="123.1982">stationAvailabilityClient</text><!--MD5=[5d3aefac5a38ef6bf20cf283a9bd6866]
entity stationAvailabilities--><rect fill="#DCDCDC" height="52.5938" style="stroke: #FFFFFF; stroke-width: 1.5;" width="162" x="488" y="196.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="542.5" y="219.9014">«topic»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="142" x="498" y="236.1982">stationAvailabilities</text><!--MD5=[5a4ea3b7a5127cf9394d1d1b6348545f]
entity stationUpdates--><rect fill="#DCDCDC" height="52.5938" style="stroke: #FFFFFF; stroke-width: 1.5;" width="130" x="498" y="309.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="536.5" y="332.9014">«topic»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="508" y="349.1982">stationUpdates</text><!--MD5=[024ee7ce38d555eed7c30878f4f92ef8]
entity hourlyStationStats--><rect fill="#DCDCDC" height="52.5938" style="stroke: #FFFFFF; stroke-width: 1.5;" width="155" x="480.5" y="427.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="531.5" y="450.4014">«topic»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="490.5" y="466.6982">hourlyStationStats</text><!--MD5=[2a436f2442a7fdfad9fe8adda98188e5]
entity stationStatus--><rect fill="#DCDCDC" height="52.5938" style="stroke: #FFFFFF; stroke-width: 1.5;" width="117" x="681.5" y="544.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="713.5" y="567.9014">«topic»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="97" x="691.5" y="584.1982">stationStatus</text><!--MD5=[2c5d1e5187b13ce3ce5fa5d47e0aec5d]
entity bikesLocked--><rect fill="#DCDCDC" height="52.5938" style="stroke: #FFFFFF; stroke-width: 1.5;" width="111" x="502.5" y="544.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="531.5" y="567.9014">«topic»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="91" x="512.5" y="584.1982">bikesLocked</text><!--MD5=[0b77ce7009a41ff29b6146aac87f819c]
entity statisticsDb--><path d="M670.5,432.9063 C670.5,422.9063 724,422.9063 724,422.9063 C724,422.9063 777.5,422.9063 777.5,432.9063 L777.5,474.5 C777.5,484.5 724,484.5 724,484.5 C724,484.5 670.5,484.5 670.5,474.5 L670.5,432.9063 " fill="#FF7F50" style="stroke: #FFFFFF; stroke-width: 1.5;"/><path d="M670.5,432.9063 C670.5,442.9063 724,442.9063 724,442.9063 C724,442.9063 777.5,442.9063 777.5,432.9063 " fill="none" style="stroke: #FFFFFF; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84" x="682" y="459.9014">«database»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="680.5" y="476.1982">statisticsDb</text><!--MD5=[b8e7e0fa629bdb31f3de8051aa8355bf]
entity bikeCountsClient--><rect fill="#FF7F50" height="52.5938" style="stroke: #FFFFFF; stroke-width: 1.5;" width="145" x="64.5" y="196.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="83" x="95.5" y="219.9014">«producer»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="125" x="74.5" y="236.1982">bikeCountsClient</text><!--MD5=[e270446d7fda8563d625c794c30413e5]
entity bikeCounts--><rect fill="#DCDCDC" height="52.5938" style="stroke: #FFFFFF; stroke-width: 1.5;" width="102" x="86" y="309.9063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="110.5" y="332.9014">«topic»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="96" y="349.1982">bikeCounts</text><!--MD5=[a779f84044f30d0ea3f4ad7e970c1ad9]
entity dailyNearbyTrafficPerStation--><rect fill="#DCDCDC" height="52.5938" style="stroke: #FFFFFF; stroke-width: 1.5;" width="228" x="23" y="427.4063"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="53" x="110.5" y="450.4014">«topic»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="208" x="33" y="466.6982">dailyNearbyTrafficPerStation</text><!--MD5=[884a0179b9588121b8c7b4912fa51c10]
entity nearbyTrafficDb--><path d="M286,432.9063 C286,422.9063 355,422.9063 355,422.9063 C355,422.9063 424,422.9063 424,432.9063 L424,474.5 C424,484.5 355,484.5 355,484.5 C355,484.5 286,484.5 286,474.5 L286,432.9063 " fill="#FF7F50" style="stroke: #FFFFFF; stroke-width: 1.5;"/><path d="M286,432.9063 C286,442.9063 355,442.9063 355,442.9063 C355,442.9063 424,442.9063 424,432.9063 " fill="none" style="stroke: #FFFFFF; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="84" x="313" y="459.9014">«database»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="118" x="296" y="476.1982">nearbyTrafficDb</text><!--MD5=[75490d6191340c74c8d49034062afe57]
link stationAvailabilityClient to stationAvailabilities--><path d="M575.145,137.1513 C573.973,153.4022 572.454,174.4853 571.219,191.6203 " fill="none" id="stationAvailabilityClient-&gt;stationAvailabilities" style="stroke: #00BFFF; stroke-width: 1.0;"/><polygon fill="#00BFFF" points="570.845,196.8012,575.4826,188.1126,571.205,191.8142,567.5034,187.5366,570.845,196.8012" style="stroke: #00BFFF; stroke-width: 1.0;"/><!--MD5=[957c203bdf5e2e668136ac123e4ffce6]
link stationAvailabilities to stationUpdates--><path d="M567.608,250.1513 C566.73,266.4023 565.59,287.4853 564.664,304.6203 " fill="none" id="stationAvailabilities-&gt;stationUpdates" style="stroke: #00BFFF; stroke-width: 1.0;"/><polygon fill="#00BFFF" points="564.384,309.8013,568.8643,301.0304,564.6541,304.8085,560.876,300.5983,564.384,309.8013" style="stroke: #00BFFF; stroke-width: 1.0;"/><!--MD5=[6d9e0b5f0a2c938bc7e6fc8f98669f57]
link stationUpdates to hourlyStationStats--><path d="M561.89,363.0393 C561.133,380.5353 560.126,403.7963 559.326,422.2703 " fill="none" id="stationUpdates-&gt;hourlyStationStats" style="stroke: #00BFFF; stroke-width: 1.0;"/><polygon fill="#00BFFF" points="559.107,427.3443,563.4942,418.5265,559.3242,422.349,555.5017,418.179,559.107,427.3443" style="stroke: #00BFFF; stroke-width: 1.0;"/><!--MD5=[2ddc62395fe4c70a5dc81e58c0a1bf96]
link hourlyStationStats to bikesLocked--><path d="M558,480.5393 C558,498.0353 558,521.2963 558,539.7701 " fill="none" id="hourlyStationStats-&gt;bikesLocked" style="stroke: #00BFFF; stroke-width: 1.0;"/><polygon fill="#00BFFF" points="558,544.8448,562,535.8448,558,539.8448,554,535.8448,558,544.8448" style="stroke: #00BFFF; stroke-width: 1.0;"/><!--MD5=[feb10e72adc850c827a5f09639fafd52]
link hourlyStationStats to statisticsDb--><path d="M635.812,453.9063 C645.591,453.9063 655.369,453.9063 665.147,453.9063 " fill="none" id="hourlyStationStats-&gt;statisticsDb" style="stroke: #00BFFF; stroke-width: 1.0;"/><polygon fill="#00BFFF" points="670.261,453.9063,661.261,449.9063,665.261,453.9063,661.261,457.9063,670.261,453.9063" style="stroke: #00BFFF; stroke-width: 1.0;"/><!--MD5=[6b6b122bee130e2732e393fff8e41b00]
link stationUpdates to stationStatus--><path d="M628.012,341.7373 C682.645,349.2113 757.622,369.2953 795,422.9063 C816.86,454.2603 808.637,473.1993 795,508.9063 C790.528,520.6153 782.688,531.5043 774.304,540.7666 " fill="none" id="stationUpdates-&gt;stationStatus" style="stroke: #00BFFF; stroke-width: 1.0;"/><polygon fill="#00BFFF" points="770.686,544.6343,779.7555,540.7944,774.1018,540.9829,773.9133,535.3292,770.686,544.6343" style="stroke: #00BFFF; stroke-width: 1.0;"/><!--MD5=[81f4944c657b5f32e40c864f632d587d]
link statisticsDb to stationStatus--><path d="M728.162,484.9512 C730.495,501.7903 733.398,522.7493 735.746,539.6954 " fill="none" id="statisticsDb-&gt;stationStatus" style="stroke: #00BFFF; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;"/><polygon fill="#00BFFF" points="736.455,544.8168,739.1818,535.3529,735.7687,539.8641,731.2575,536.451,736.455,544.8168" style="stroke: #00BFFF; stroke-width: 1.0;"/><!--MD5=[a3c1146412dcb1c0d47cc8909219651d]
link bikeCountsClient to bikeCounts--><path d="M137,250.1513 C137,266.4023 137,287.4853 137,304.6203 " fill="none" id="bikeCountsClient-&gt;bikeCounts" style="stroke: #00BFFF; stroke-width: 1.0;"/><polygon fill="#00BFFF" points="137,309.8013,141,300.8013,137,304.8013,133,300.8013,137,309.8013" style="stroke: #00BFFF; stroke-width: 1.0;"/><!--MD5=[6644c5e2bdc6ba9dd4b84dcc52282152]
link bikeCounts to dailyNearbyTrafficPerStation--><path d="M137,363.0393 C137,380.5353 137,403.7963 137,422.2703 " fill="none" id="bikeCounts-&gt;dailyNearbyTrafficPerStation" style="stroke: #00BFFF; stroke-width: 1.0;"/><polygon fill="#00BFFF" points="137,427.3443,141,418.3443,137,422.3443,133,418.3443,137,427.3443" style="stroke: #00BFFF; stroke-width: 1.0;"/><!--MD5=[2b51a99f79d989755ff628af3f73b3b4]
link stationUpdates to dailyNearbyTrafficPerStation--><path d="M497.836,355.0743 C428.275,373.9343 317.205,404.0483 236.652,425.8882 " fill="none" id="stationUpdates-&gt;dailyNearbyTrafficPerStation" style="stroke: #00BFFF; stroke-width: 1.0;"/><polygon fill="#00BFFF" points="231.391,427.3143,241.1241,428.8201,236.2168,426.006,239.0309,421.0988,231.391,427.3143" style="stroke: #00BFFF; stroke-width: 1.0;"/><!--MD5=[f3084f1d414cabc6cb227c4c28725269]
link dailyNearbyTrafficPerStation to nearbyTrafficDb--><path d="M251.109,453.9063 C260.901,453.9063 270.692,453.9063 280.484,453.9063 " fill="none" id="dailyNearbyTrafficPerStation-&gt;nearbyTrafficDb" style="stroke: #00BFFF; stroke-width: 1.0;"/><polygon fill="#00BFFF" points="285.604,453.9063,276.604,449.9063,280.604,453.9063,276.604,457.9063,285.604,453.9063" style="stroke: #00BFFF; stroke-width: 1.0;"/><!--MD5=[15aaff50032019494db4142037650fc5]
@startuml
title
<b>High level topology</b>
(Kafka Stream)
end title


frame "Station status topology"{
   rectangle stationAvailabilityClient <<producer>>
   rectangle stationAvailabilities <<topic>>
   rectangle stationUpdates <<topic>>
   rectangle hourlyStationStats<<topic>>
   rectangle stationStatus <<topic>>
   rectangle bikesLocked <<topic>>
   database statisticsDb<<database>>
}

stationAvailabilityClient - -> stationAvailabilities 
stationAvailabilities - -> stationUpdates
stationUpdates - -> hourlyStationStats
hourlyStationStats- -> bikesLocked
hourlyStationStats-> statisticsDb
stationUpdates - -> stationStatus
statisticsDb ..> stationStatus

frame "Nearby traffic topology"{
   rectangle bikeCountsClient <<producer>>
   rectangle bikeCounts <<topic>>
   rectangle dailyNearbyTrafficPerStation <<topic>>
   database nearbyTrafficDb<<database>>
}

bikeCountsClient - -> bikeCounts 
bikeCounts - -> dailyNearbyTrafficPerStation 
stationUpdates - -> dailyNearbyTrafficPerStation 
dailyNearbyTrafficPerStation -> nearbyTrafficDb

skinparam rectangle{
    backgroundColor<<topic>> Gainsboro
    backgroundColor<<stream>> Snow
    backgroundColor<<producer>> Coral
    backgroundColor<<consumer>> Coral
    borderColor<<topic>> transparent
    borderColor<<stream>> transparent
    borderColor<<producer>> transparent
    borderColor<<consumer>> transparent
}

skinparam database{ 
   backgroundColor<<database>> Coral
   borderColor transparent
}

skinparam{
   ArrowColor DeepSkyBlue
   shadowing false
}
@enduml

PlantUML version 1.2020.16beta7(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>