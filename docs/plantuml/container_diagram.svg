<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1248px" preserveAspectRatio="none" style="width:1069px;height:1248px;" version="1.1" viewBox="0 0 1069 1248" width="1069px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="30" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="317" x="367" y="27.8467">Container diagram</text><text fill="#000000" font-family="sans-serif" font-size="30" lengthAdjust="spacingAndGlyphs" textLength="320" x="365.5" y="62.7686">(based on C4 model)</text><!--MD5=[84dda40acb3410cad7262261daba2aaf]
cluster c1--><rect fill="#FFFFFF" height="859" style="stroke: #444444; stroke-width: 1.0; stroke-dasharray: 7.0,7.0;" width="607" x="234" y="76.8438"/><text fill="#444444" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="185" x="445" y="93.6953">Velib Station Status</text><text fill="#444444" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="505.5" y="108.6074">[System]</text><!--MD5=[ff3eef49b9d9c410aa00500b6a6853a9]
entity htmlApplication--><rect fill="#438DD5" height="165.7813" style="stroke: #3C7FC0; stroke-width: 1.5;" width="216" x="250" y="753.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="158" x="279" y="778.6953">HTML Application</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="189" x="263.5" y="793.6074">[Javascript, HTML, OpenLayers]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="360" y="809.4326"/><image height="48" width="48" x="334" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAABJklEQVR4Xu2YMQrCQBBFc7ccwAt4AC/gATyAVlbBzsLCMp2VpBNsLEQiCAEJBATFCIog6OBC1JnIrAvZNTCfV4Tshn0MySRZz+8u/wqPnnKLCHF8CDUH6yDKwsXeGr1J+lWoE27vLpIerlCIEqH8csNzbWUaH7EQOKqxeXKCYzu0hhu1KNQCC7XHiRobzXbFmAVEiEOEOESIQ4Q4RIhDhDhEiEOEOGooBJ+wcGwNXshJRIhLHYSKXyQnKRFq9Fd4lsXE2RkLAfDA44m2EkRZiRAUCf778dzqg1rxS0gBNxNtX5Sc25mAZehVFKgCEsBCmuD1SYxfQSZCmjtJ9EIdTIQ0bzWzIv0spN+x3ruLPj8L+c8GAYux0P1DHUyEKkWEOESIQ4Q4HtznNYLAerwUAAAAAElFTkSuQmCC" y="812.7344"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="173" x="269.5" y="873.7295">Display a map with each</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="196" x="260" y="890.0264">station status and the user'</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="323.5" y="906.3232">s location</text><!--MD5=[898148df37845fdf682dee619cdbf4ac]
entity webApplication--><rect fill="#438DD5" height="179.75" style="stroke: #3C7FC0; stroke-width: 1.5;" width="220" x="250" y="470.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="148" x="286" y="495.6953">Web Application</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="146" x="285" y="510.6074">[SpringBoot, Thymeleaf,</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="119" x="300.5" y="524.5762">embedded Tomcat]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="362" y="540.4014"/><image height="48" width="48" x="336" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACsElEQVR4Xu2YQWpUQRCG525zgFzAA3iBHMADxJUrcefChcvsspLsBDdZiCQgBEIgEIioYAgEnl+mkrLyd73unvElEXnFv5jp16/r76q/qntmsdz5/E9hUQ49LWZCLcyEWvivCW2/Py4H63j25khGJiO09erLMAyHZ7+ev/1aPk2xe3DBK7KNyQi92D0Z7uzl3mk5IQL2p9+u0smTEXr38dwJYZU4RTYYL8ankxGy+Lt9Ov5JzF7vnzHuwDfgUZzJeFznoQj1G7KL60xG6MPhd3XVZ+sRIt+ogUKgPlEfucdxWt6SiH7rJYQC8MFsS78EgK9wjfM3Thle2oSMhLiMpYHxNU5Av/Fpv7VFTWqkFA24j1XDtEiIzKqrPmPN6CUhJEnth7rqs0anRjppeMZgYbNuu1mhiTCUEKunRVSCaV5ZPy6vl6uT8r6vtrEHWVYJEZ4mISaQVlnapCAHSNNKX0qIdcmaDDqIQUnFzYIvxVixVKxKiGIZ01Bz99ZR2LQ+GLH0UqCEllmVEZjOfZuPnp5UejEkhETX+NDFqmaXwGbFlXdFQ0LIlrMPPXsVo+JMTJUUV2SaEzJsfDyRXwtAuh9pzYJRQhuzMSNOxkkKsxIbQ06oEu21zOsIUSKDyr3WkRBaV8V1oxeM6TeFEiq7CILw6zAfcMAIGZFpdSNrdolYL2VyGJVXIgEpMDeV9l1aeVxE3CPk67okHX6OEp50l1BnnD30BK8ipj+EopDTF7zuxpqswyTsq6U2FqdbQvG+V+kTrnc4gfJmHWFXpcqZk4r9llAUQcXHckU9+kgPSEG8OUXznh5xQyj2U5yVK04CdpI2W2hB1zO42Fr9a+HW1MdfgjSltIa7H/kLmxFRrjI5iEJ6GBAnbYyPCWKBWqzlGhh5SkIpZkItzIRamAm18BsVDjl5CwZjBgAAAABJRU5ErkJggg==" y="543.7031"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="180" x="268" y="604.6982">Generate and deliver the</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="196" x="260" y="620.9951">main page with the current</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="307" y="637.292">stations status</text><!--MD5=[f637b4c150ddfe5a23ebefab20f72a7f]
entity producerApplication--><rect fill="#438DD5" height="165.7813" style="stroke: #3C7FC0; stroke-width: 1.5;" width="220" x="605" y="136.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="191" x="619.5" y="161.6953">Producer Application</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="127" x="651.5" y="176.6074">[Java, Unirest, Kafka]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="717" y="192.4326"/><image height="48" width="48" x="691" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAC40lEQVR4Xu2XTWpUURCFs7e3ADfgAtyAC3ABceRInDlw4DAzR+JMcOJAJIIQkEAgkGCEBEG4fvShi/JW9/19YA/6cmi669336ryqU1W3T5bTLweFk2j6vzgSquFIqIb1Cb35eB2N7ViZ0ONX386v7qO9HSsTOvt8c/fwJ9rbsSahZ2c/UkqHEiGxYT1/dxmvtmMdQghZbC5vf8erXZgl9OjFV3IkNqwnr7/LSJw+XfzikiztmCKEMyRsbJ6+vaDK4KGfCDzeUsU4IdwblbSJjckoTShpkBCRcGQSP81CzPgeb2nEICHSYWykErMQubi/HYOEqCa5t0Fh0o6buzBIyNxbdszSW1YZBgmZfo3Qyw9Xsrw//xn3t2OQEFDB+2qyFjAjo3FCakJ+lFojmAnSOKFly4lkmUVKmpmvU4SW7QHIlKTinzmjdRBSLyYe+CM7DCy7ZKKhHcSJgc4wcldLATYR4lkmWPThqXhA18tZ7ZvNfFoNVvXeREjPskWOoMVLZ8DIZLWeyTZPXUcUNsTnezQRItQ2w8uLQMJDOc0eQuLSWoQMvLFkxCcOBHzr4BH3exC/1KD3PkIKuy+rDDCGXDx72Fmgqus+Qv44hlaI/071pE1qTECQ0KWYx4g+QvjQHx1zHJcqn5zqFr6wH8u+2szQR0gg/moqmZJ25jHrWFV0E7KBpVJSs+GLxK5ijL2xHXVC8qcYLP+eFQvLUtaLEiHNKTng1QmJygdn/IxKwoKdOO3MUdYn96FESJ0j7Z/eGguaD/Gqh/pFbAcRJUL2fzRtZLFTs1WQaL0Y8as2oaVMaHEHUy1Kmqcrd2rQpmuAP6mNDbyA/0frR3K57iqElu244Im+77UsSQp+5l5trFyDdUIePNHaD2FQJAT9JKIEgD1ZDDCqPKvS7iOEp0IP9FCzgKIdEwjwrKj3AWcECWfkkTf2wGucd4StRc7CCKEMKn7TuCk97mzBCoTWxZFQDQdH6C/5dU+AwCXG/gAAAABJRU5ErkJggg==" y="195.7344"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="178" x="624" y="256.7295">Fetch stations data from</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="196" x="615" y="273.0264">Paris' API and push them to</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="694.5" y="289.3232">Kafka</text><!--MD5=[ce6a85ca25b6f16f50738b34c4d69d9c]
entity streamingApplication--><rect fill="#438DD5" height="184.4063" style="stroke: #3C7FC0; stroke-width: 1.5;" width="220" x="350" y="127.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="410" y="152.6953">Streaming</text><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="102" x="409" y="171.3203">Application</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="143" x="388.5" y="186.2324">[Java, Kafka Streaming]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="462" y="202.0576"/><image height="48" width="48" x="436" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAC40lEQVR4Xu2XTWpUURCFs7e3ADfgAtyAC3ABceRInDlw4DAzR+JMcOJAJIIQkEAgkGCEBEG4fvShi/JW9/19YA/6cmi669336ryqU1W3T5bTLweFk2j6vzgSquFIqIb1Cb35eB2N7ViZ0ONX386v7qO9HSsTOvt8c/fwJ9rbsSahZ2c/UkqHEiGxYT1/dxmvtmMdQghZbC5vf8erXZgl9OjFV3IkNqwnr7/LSJw+XfzikiztmCKEMyRsbJ6+vaDK4KGfCDzeUsU4IdwblbSJjckoTShpkBCRcGQSP81CzPgeb2nEICHSYWykErMQubi/HYOEqCa5t0Fh0o6buzBIyNxbdszSW1YZBgmZfo3Qyw9Xsrw//xn3t2OQEFDB+2qyFjAjo3FCakJ+lFojmAnSOKFly4lkmUVKmpmvU4SW7QHIlKTinzmjdRBSLyYe+CM7DCy7ZKKhHcSJgc4wcldLATYR4lkmWPThqXhA18tZ7ZvNfFoNVvXeREjPskWOoMVLZ8DIZLWeyTZPXUcUNsTnezQRItQ2w8uLQMJDOc0eQuLSWoQMvLFkxCcOBHzr4BH3exC/1KD3PkIKuy+rDDCGXDx72Fmgqus+Qv44hlaI/071pE1qTECQ0KWYx4g+QvjQHx1zHJcqn5zqFr6wH8u+2szQR0gg/moqmZJ25jHrWFV0E7KBpVJSs+GLxK5ijL2xHXVC8qcYLP+eFQvLUtaLEiHNKTng1QmJygdn/IxKwoKdOO3MUdYn96FESJ0j7Z/eGguaD/Gqh/pFbAcRJUL2fzRtZLFTs1WQaL0Y8as2oaVMaHEHUy1Kmqcrd2rQpmuAP6mNDbyA/0frR3K57iqElu244Im+77UsSQp+5l5trFyDdUIePNHaD2FQJAT9JKIEgD1ZDDCqPKvS7iOEp0IP9FCzgKIdEwjwrKj3AWcECWfkkTf2wGucd4StRc7CCKEMKn7TuCk97mzBCoTWxZFQDQdH6C/5dU+AwCXG/gAAAABJRU5ErkJggg==" y="205.3594"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="197" x="361.5" y="266.3545">Combine and process Paris'</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="200" x="360" y="282.6514">s data to detect unavailable</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="143" x="388.5" y="298.9482">/anomalous stations</text><!--MD5=[a8d0812f293a6a5b0e62bae90d7913fb]
entity kafkaCluster--><path d="M651.5,507.8438 C651.5,497.8438 738,497.8438 738,497.8438 C738,497.8438 824.5,497.8438 824.5,507.8438 L824.5,613.7344 C824.5,623.7344 738,623.7344 738,623.7344 C738,623.7344 651.5,623.7344 651.5,613.7344 L651.5,507.8438 " fill="#438DD5" style="stroke: #3C7FC0; stroke-width: 1.5;"/><path d="M651.5,507.8438 C651.5,517.8438 738,517.8438 738,517.8438 C738,517.8438 824.5,517.8438 824.5,507.8438 " fill="none" style="stroke: #3C7FC0; stroke-width: 1.5;"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="124" x="676" y="536.6953">Kafka Cluster</text><text fill="#FFFFFF" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="153" x="661.5" y="551.6074">[Kafka, Schema Registry]</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="740" y="567.4326"/><image height="48" width="48" x="714" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAC0ElEQVR4Xu2YQYrVQBCG5259AC/gAbyAB/AAunIl7ly4cDk7V+JOcONCZARhQAYGBEUFRRDiRwp+yurKS3XmvZknWPyE9zqd1Jfq6upOTtr9t0elk77pZvWPA907/Xh2+WOa7eLLr6evPvV9rqgBoNM3nw3FG3y3Hr7rO29WFejRy0tBEBvFCXt9/r3vv1lVILl/8PzCWu48+fDt529rvPvsvL9km0pA+EuDAZy17zGZSkBLjgVKevVXbVMJ6OgihJQu9Ryikc4ch6ZhFYgKZL4xOISCvTj7Gjr7KWlWD2EVCHHT4Gaa61DolparqZxnA0BtHibiYQ6oRkQidPCBJOF4Bo5q4Wx/z6AxIHT78Xu7e5o3KpieVbnfh7PXnoHsFBbalXP9JUEHAcJ9aD8IEChKIDOGIKRFWgjIPGsk7frbBlWBlAe9WbUE16+401yxrBSJsjL5S0B+7qQWUFKrZHSrAFFn/X2JBw8NYlqWmFz091PdjJZivV4H8mVX64aJYdJw8IO/OkXeQEwx5Jim/5LWgfS4acx9bhVjsFvrQEwN85fWfs2gaaEQjGqfQPzuO4xqHcgvXv1Zn2HXNGQ+S0IhCeXAR4hTPAlpxzFMhd1aB2qu/k5zahMVFKq2GcRgaZRltPg5uEMlIG1hlyyFC8ZTVca0BNRmJh8nb7bTwJnHojOjRlQ4KmB7WzpMuOSOWiVwyd8wEIL2+aQNQjotggaATLp7mqpiDe0H2X6YdgPJcUgXa7wBIK0zPl20DFe+AowB+U0+weiZ/Hwk2yjufmdSWVsGgPq3rSn7HJN2m2pTrNWBQlH2JaB/UaSz75DGcklVIDnQ+40fnXRZJdvoUyzQUglIvsOWSKNTHI6KSkAar+BYoOnOZJtKQHJ8LJ9j/D5fL2J+Q115aS+qBNT+/vRBJvnqku61N6sK1Ba+s/R16IoaAGrH9uH8evQfaE1/AEAlGEQzMetqAAAAAElFTkSuQmCC" y="570.7344"/><!--MD5=[8fc3522a43f8c7199df5e09e5bb0188e]
entity user--><rect fill="#08427B" height="151.8125" style="stroke: #073B6F; stroke-width: 1.5;" width="202" x="7" y="143.8438"/><image height="48" width="48" x="84" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=" y="153.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="41" x="87.5" y="216.6953">User</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="110" y="233.4639"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="178" x="17" y="249.7607">Someone wanting to get</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="141" x="35.5" y="266.0576">the updated Velib's</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="106" x="55" y="282.3545">stations status</text><!--MD5=[b0576eac782cb758ab86e0657124dadc]
entity parisAPI--><rect fill="#999999" height="87.5156" style="stroke: #8A8A8A; stroke-width: 1.5;" width="198" x="860" y="516.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="178" x="870" y="541.6953">Paris OpenData API</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="961" y="558.4639"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="144" x="885" y="574.7607">Expose stations and</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="99" x="909.5" y="591.0576">counters data</text><!--MD5=[a70bea36bce5a8ae57acf2595addf1ec]
entity openLayers--><rect fill="#999999" height="87.5156" style="stroke: #8A8A8A; stroke-width: 1.5;" width="198" x="259" y="1024.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="16" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="107" x="304.5" y="1049.6953">OpenLayers</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="360" y="1066.4639"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="174" x="269" y="1082.7607">Provide OpenStreetMap</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="342" y="1099.0576">data</text><!--MD5=[5fd4610e0cb4b2c69d18798c14e4ec84]
link user to webApplication--><path d="M163.927,296.0788 C200.782,345.6577 249.365,411.0128 288.949,464.2637 " fill="none" id="user-&gt;webApplication" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="293.731,470.6958,291.3656,462.4857,286.5505,466.0654,293.731,470.6958" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="125" x="273" y="381.9824">1.Connect to web</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="308" y="395.9512">address</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="317.5" y="409.9199">[HTTP]</text><!--MD5=[86127d1be7a3ed1dd562c40a736f9109]
link user to htmlApplication--><path d="M90.6288,295.8708 C73.9295,385.5728 58.7851,537.7478 116,650.8438 C143.36,704.9268 194.727,747.6648 243.12,778.3748 " fill="none" id="user-&gt;htmlApplication" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="249.926,782.6278,244.7319,775.8439,241.552,780.9319,249.926,782.6278" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="110" x="117" y="551.4824">2.View stations</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="150" y="565.4512">status</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="154" y="579.4199">[HTTP]</text><!--MD5=[961580127f5ee6eead62d50a05dd91b4]
link webApplication to htmlApplication--><path d="M359.348,651.1827 C359.127,681.4308 358.88,715.2208 358.659,745.5438 " fill="none" id="webApplication-&gt;htmlApplication" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="358.6,753.5848,361.6585,745.6069,355.6587,745.563,358.6,753.5848" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="140" x="361" y="692.9824">Delivers generated</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="415" y="706.9512">page</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="413" y="720.9199">[HTTP]</text><!--MD5=[f85ebf61c77ca7ee4365d73ff476d0ab]
link htmlApplication to openLayers--><path d="M358,919.9048 C358,952.0778 358,988.0068 358,1016.4001 " fill="none" id="htmlApplication-&gt;openLayers" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="358,1024.5773,361,1016.5773,355,1016.5773,358,1024.5773" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="89" x="359.5" y="963.9824">Get the map</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="359" y="977.9512">backgrounds</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="40" x="386" y="991.9199">[HTTP]</text><!--MD5=[310111efa78a4865b7f8d67257a85765]
link webApplication to kafkaCluster--><path d="M470.095,560.8438 C524.918,560.8438 590.537,560.8438 643.111,560.8438 " fill="none" id="webApplication-&gt;kafkaCluster" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="651.433,560.8438,643.433,557.8438,643.433,563.8438,651.433,560.8438" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94" x="511.75" y="526.9824">Consume the</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="141" x="488.25" y="540.9512">processed stations</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="48" x="536.75" y="554.9199">status</text><!--MD5=[9c5b72b7ada8061a12d79de0d9737477]
link producerApplication to kafkaCluster--><path d="M720.568,302.9058 C724.437,359.9398 729.541,435.1618 733.225,489.4618 " fill="none" id="producerApplication-&gt;kafkaCluster" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="733.781,497.6537,736.2328,489.4691,730.2465,489.8751,733.781,497.6537" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="730" y="388.9824">Push the stations</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="737.5" y="402.9512">and traffic data</text><!--MD5=[b456962fc3931798020d88f07273dc02]
link streamingApplication to kafkaCluster--><path d="M491.421,311.9108 C508.965,354.1548 533.838,403.2188 566,440.8438 C587.968,466.5438 616.709,489.2908 644.39,507.8328 " fill="none" id="streamingApplication-&gt;kafkaCluster" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="651.4,512.4558,646.3731,505.5471,643.0699,510.5559,651.4,512.4558" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="87" x="595" y="353.9824">Process the</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="119" x="579" y="367.9512">stations data to</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="126" x="575.5" y="381.9199">detect anomalies</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="147" x="567" y="395.8887">and the traffic data</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122" x="577.5" y="409.8574">to compute each</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="108" x="584.5" y="423.8262">station nearby</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="49" x="616" y="437.7949">traffic</text><!--MD5=[4f70df459808d8bd90864d99d5807d40]
link producerApplication to parisAPI--><path d="M825.067,293.2818 C842.275,307.9208 858.725,324.2698 872,341.8438 C910.195,392.4068 934.089,461.9797 946.963,508.8108 " fill="none" id="producerApplication-&gt;parisAPI" style="stroke: #666666; stroke-width: 1.0;"/><polygon fill="#666666" points="949.087,516.7028,949.9051,508.198,944.1112,509.7571,949.087,516.7028" style="stroke: #666666; stroke-width: 1.0;"/><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="120" x="924" y="381.9824">Get the stations</text><text fill="#666666" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="927" y="395.9512">and traffic data</text><text fill="#666666" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="41" x="965.5" y="409.9199">[REST]</text><rect fill="#FFFFFF" height="111.7813" rx="5" ry="5" style="stroke: #FFFFFF; stroke-width: 1.0;" width="136" x="906" y="1125.3594"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="57" x="912" y="1145.3545">Legend</text><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="0" x="973" y="1145.3545"/><rect fill="#08427B" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="124" x="912" y="1148.6563"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="50" x="916" y="1161.6514">person</text><rect fill="#1168BD" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="124" x="912" y="1164.9531"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="52" x="916" y="1177.9482">system</text><rect fill="#438DD5" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="124" x="912" y="1181.25"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="69" x="916" y="1194.2451">container</text><rect fill="#686868" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="124" x="912" y="1197.5469"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="114" x="916" y="1210.542">external person</text><rect fill="#999999" height="16.2969" style="stroke: none; stroke-width: 1.0;" width="124" x="912" y="1213.8438"/><text fill="#FFFFFF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="916" y="1226.8389">external system</text><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="912" x2="1036" y1="1132.3594" y2="1132.3594"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="912" x2="1036" y1="1148.6563" y2="1148.6563"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="912" x2="1036" y1="1164.9531" y2="1164.9531"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="912" x2="1036" y1="1181.25" y2="1181.25"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="912" x2="1036" y1="1197.5469" y2="1197.5469"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="912" x2="1036" y1="1213.8438" y2="1213.8438"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="912" x2="1036" y1="1230.1406" y2="1230.1406"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="912" x2="912" y1="1132.3594" y2="1230.1406"/><line style="stroke: #FFFFFF; stroke-width: 1.0;" x1="1036" x2="1036" y1="1132.3594" y2="1230.1406"/><!--MD5=[097037ef6d1d6ae198adbcbcabfc388f]
@startuml
!include https://raw.githubusercontent.com/adrianvlupu/C4-PlantUML/latest/C4_Container.puml
!define SPRITESURL https://raw.githubusercontent.com/rabelenda/cicon-plantuml-sprites/v1.0/sprites
!includeurl SPRITESURL/tomcat.puml
!includeurl SPRITESURL/kafka.puml
!includeurl SPRITESURL/java.puml
!includeurl SPRITESURL/desktop.puml

skinparam TitleFontSize 30
LAYOUT_WITH_LEGEND()

title
<b>Container diagram</b>
(based on C4 model)
end title

Person(user, User, "Someone wanting to get the updated Velib's stations status")

  
System_Boundary(c1, "Velib Station Status") {
    Container(htmlApplication, "HTML Application", "Javascript, HTML, OpenLayers", "<$desktop>\n Display a map with each station status and the user's location")
    Container(webApplication, "Web Application", "SpringBoot, Thymeleaf, embedded Tomcat", "<$tomcat>\n Generate and deliver the main page with the current stations status")
    Container(producerApplication, "Producer Application", "Java, Unirest, Kafka", "<$java>\n Fetch stations data from Paris' API and push them to Kafka")
    Container(streamingApplication, "Streaming Application", "Java, Kafka Streaming", "<$java>\n Combine and process Paris's data to detect unavailable/anomalous stations") 
    ContainerDb(kafkaCluster, "Kafka Cluster", "Kafka, Schema Registry", "<$kafka>")
}
System_Ext(parisAPI, "Paris OpenData API", "Expose stations and counters data")
System_Ext(openLayers, "OpenLayers", "Provide OpenStreetMap data")

Rel(user, webApplication, "1.Connect to web address", "HTTP")
Rel(user, htmlApplication, "2.View stations status", "HTTP")

Rel(webApplication, htmlApplication, "Delivers generated page", "HTTP")
Rel(htmlApplication, openLayers, "Get the map backgrounds", "HTTP")

Rel_Neighbor(webApplication, kafkaCluster, "Consume the processed stations status")
Rel(producerApplication, kafkaCluster, "Push the stations and traffic data")
Rel(streamingApplication, kafkaCluster, "Process the stations data to detect anomalies and the traffic data to compute each station nearby traffic")
Rel(producerApplication, parisAPI, "Get the stations and traffic data", "REST")
@enduml

@startuml





skinparam defaultTextAlignment center

skinparam wrapWidth 200
skinparam maxMessageSize 150

skinparam LegendBorderColor transparent
skinparam LegendBackgroundColor transparent
skinparam LegendFontColor #FFFFFF

skinparam rectangle {
    StereotypeFontSize 12
    shadowing false
}

skinparam database {
    StereotypeFontSize 12
    shadowing false
}

skinparam Arrow {
    Color #666666
    FontColor #666666
    FontSize 12
}

skinparam rectangle<<boundary>> {
    Shadowing false
    StereotypeFontSize 0
    FontColor #444444
    BorderColor #444444
    BorderStyle dashed
}





























skinparam rectangle<<person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #08427B
    BorderColor #073B6F
}

skinparam rectangle<<external_person>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #686868
    BorderColor #8A8A8A
}

skinparam rectangle<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam rectangle<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}

skinparam database<<system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #1168BD
    BorderColor #3C7FC0
}

skinparam database<<external_system>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #999999
    BorderColor #8A8A8A
}

sprite $person [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
0000000000000000000049BCCA7200000000000000000000
0000000000000000006EFFFFFFFFB3000000000000000000
00000000000000001CFFFFFFFFFFFF700000000000000000
0000000000000001EFFFFFFFFFFFFFF80000000000000000
000000000000000CFFFFFFFFFFFFFFFF6000000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
00000000000001FFFFFFFFFFFFFFFFFFF900000000000000
00000000000006FFFFFFFFFFFFFFFFFFFF00000000000000
0000000000000BFFFFFFFFFFFFFFFFFFFF40000000000000
0000000000000EFFFFFFFFFFFFFFFFFFFF70000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000FFFFFFFFFFFFFFFFFFFFF80000000000000
0000000000000DFFFFFFFFFFFFFFFFFFFF60000000000000
0000000000000AFFFFFFFFFFFFFFFFFFFF40000000000000
00000000000006FFFFFFFFFFFFFFFFFFFE00000000000000
00000000000000EFFFFFFFFFFFFFFFFFF800000000000000
000000000000007FFFFFFFFFFFFFFFFFF100000000000000
000000000000000BFFFFFFFFFFFFFFFF5000000000000000
0000000000000001DFFFFFFFFFFFFFF70000000000000000
00000000000000000BFFFFFFFFFFFF500000000000000000
0000000000000000005DFFFFFFFFA1000000000000000000
0000000000000000000037ABB96100000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000025788300000000005886410000000000000
000000000007DFFFFFFD9643347BFFFFFFFB400000000000
0000000004EFFFFFFFFFFFFFFFFFFFFFFFFFFB1000000000
000000007FFFFFFFFFFFFFFFFFFFFFFFFFFFFFD200000000
00000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE10000000
0000003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB0000000
000000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5000000
000003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD000000
000009FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF200000
00000DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF600000
00000FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF800000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFB00000
00001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA00000
00000EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF700000
000006FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE100000
0000008FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD3000000
000000014555555555555555555555555555555300000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}


















skinparam rectangle<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}

skinparam database<<container>> {
    StereotypeFontColor #FFFFFF
    FontColor #FFFFFF
    BackgroundColor #438DD5
    BorderColor #3C7FC0
}








sprite $tomcat [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000040000000000000000200000
0000000000000000000000001FC300000000000009F40000
0000000000000000000000005FFF600000000001DFF60000
0000000000000000000000008FFFF3000000001DFFF80000
0000000000000000000000009FFFFB57999988BFFFF90000
0000000000000000000000009FFFFFFFFFFFFFFFFFFC0000
000000000000000000000000AFFFFFFFFFFFFFFFFFFC0000
000000000013426DA4000000BFFFFFFFFFFFFFFFFFFC0000
000000005BC99AFFFFA100009FFFFFFFFFFFFFFFFFFB0000
00000009910000DFFFFD10007FFFFFFFFFFFFFFFFFF90000
0000006800000017999610003FFFFFFFFFFFFFFFFFF70000
000000C000000000000000000FFFFFFFFFFFFFFFFFF40000
0000058000000000000001760AFFFFFFFFFFFFFFFFF10000
00000740000000000004BFFE02FFFFFFFFFFFFFFFFA00000
000008400000000004CFFFFF708FFFFFFFFFFFFFFF400000
0000075000000002CFFFFFFFF10DFFFFFFFFFFFFFC000000
000003800000008FFFFFFFFFFB04FFFFFFFFFFFFF6000000
000000C000002DFFFFFFFFFFFF607FFFFFFFFFFFC0000000
000000740006FFFFFFFFFFFFFFF20AFFFFFFFFFF20000000
0000000A007FFFFFFFFFFFFFFFFE108FFFFFFFF500000000
0000000009FFFFFFFFFFFFFFFFFFD207FFFFFF7000000000
000000009FFFFFFFFFFFFFFFFFFFFE202CFFF50000000000
00000008FFFFFFFFFFFFFFFFFFFFFFF6004A300000000000
0000006FFFFFFFFFFFFFFFFFFFFFFFFFB200000000000000
000004FFFFFD9889BDEFFFFFFFFFFFFFFFC6850000000000
00002FFFF91000000000368CFFFFFFFFFFFFFF4000000000
0000CFFE20000BFFD5000000159EFFFFFFFFFFF300000000
0008FFF30000009FFC00000000004AFFFFFFFFFF40000000
003FFF7000000006FFCCA10000000017DFFFFFFFF2000000
00CFFF10000000003DFFF6000000000004BFFFFFFE100000
07FFFD0000000000000000000000000000039FFFFFFEB400
1FFFFC000000000000000000000000000000029FFFFFFF80
29999900000000000000000000000000000000018FFFFFF4
000000000000000000000000000000000000000002788882
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}
sprite $kafka [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
0000000000000005CFFD8000000000000000000000000000
000000000000009FFFFFFC10000000000000000000000000
00000000000007FFFDCFFFB0000000000000000000000000
0000000000000FFF6003EFF4000000000000000000000000
0000000000004FFB00006FF8000000000000000000000000
0000000000006FF800004FF9000000000000000000000000
0000000000004FFB00006FF8000000000000000000000000
0000000000000EFF6003EFF4000000464100000000000000
00000000000005FFFEEFFFA000007FFFFF80000000000000
000000000000008FFFFFFC000009FFFFFFF9000000000000
0000000000000003AFFD7000005FFFB8BFFF500000000000
00000000000000002FF4000000CFF70006FFC00000000000
00000000000000002FF4000000FFF00000EFF00000000000
00000000000000002FF4000000FFE00000EFF00000000000
000000000000002AFFFFC50000EFF40003FFD00000000000
00000000000006FFFFFFFFB02CFFFF646EFF800000000000
0000000000005FFFFFFFFFFCFFFFFFFFFFFC000000000000
000000000001FFFFB658FFFFFF71BFFFFFB1000000000000
000000000007FFF600002EFFE20003898400000000000000
00000000000BFFC0000006FFF10000000000000000000000
00000000000DFF90000003FFF40000000000000000000000
00000000000DFF90000003FFF30000000000000000000000
00000000000AFFD0000007FFF10000000000000000000000
000000000006FFF800005FFFF30005ACA600000000000000
000000000000EFFFC77AFFFFFF83DFFFFFD2000000000000
0000000000004FFFFFFFFFFAFFFFFFFFFFFE100000000000
00000000000004EFFFFFFF701AFFFE525DFF800000000000
0000000000000018CFFE820000EFF30002FFD00000000000
00000000000000002FF6000000FFE00000EFF00000000000
00000000000000002FF6000000EFF10000FFF00000000000
00000000000000002FF6000000BFF80008FFB00000000000
0000000000000003AFFE6000004FFFC9CFFF400000000000
000000000000007FFFFFFC100007FFFFFFF8000000000000
00000000000005FFFFEFFFA000005EFFFE60000000000000
0000000000000EFF7004FFF3000000242000000000000000
0000000000004FFC00007FF8000000000000000000000000
0000000000005FF800004FF9000000000000000000000000
0000000000004FFB00006FF8000000000000000000000000
0000000000001FFF5002EFF5000000000000000000000000
00000000000008FFFCCFFFC0000000000000000000000000
000000000000009FFFFFFC10000000000000000000000000
0000000000000005CFFD8000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}
sprite $java [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000800000000000000000000
000000000000000000000000002C00000000000000000000
000000000000000000000000009E00000000000000000000
00000000000000000000000005FC00000000000000000000
0000000000000000000000005FF600000000000000000000
000000000000000000000008FFD000000000000000000000
0000000000000000000001CFFF3016BC3000000000000000
000000000000000000003EFFF42BFF900000000000000000
00000000000000000004FFFF35FFF6000000000000000000
0000000000000000002FFFF22FFE20000000000000000000
0000000000000000009FFF309FF400000000000000000000
000000000000000000DFF800CFF000000000000000000000
000000000000000000CFF200CFF300000000000000000000
0000000000000000005FF2007FFA00000000000000000000
0000000000000000000EF6000EFF40000000000000000000
00000000000000000003EE0004FFA0000000000000000000
000000000000000000003E7000CFC0000000000000000000
0000000000000000000002C2009F80000000000000000000
00000000000000357841000400D900000698300000000000
0000000000008EFFA100000005400022127FF40000000000
000000000000FFFFFCA999999ABDFFC10008FB0000000000
0000000000003BFFFFFFFFFFFFEC84000006FB0000000000
00000000000000015756664420000000000AF80000000000
0000000000000008FC20000000146000002FF30000000000
000000000000000EFFFDB99ABDFFFB1003DF400000000000
00000000000000019EFFFFFFFFFD95005E91000000000000
000000000000000002835666420000004100000000000000
00000000000000004FF8422457BF90000000000000000000
00000000000246409FFFFFFFFFFFF5000000000000000000
0000000002CFFB8605BEFFFFFEB71000000C100000000000
000000000AFFC0000000122100000000008F600000000000
0000000008FFF92000000000000000004AFE300000000000
00000000007FFFFDA8644422234689CFFFA1004100000000
0000000000015ADFFFFFFFFFFFFFFFEB6100199000000000
000000000000000135688999887431000049FC1000000000
00000000000000036420000000000248BFFD600000000000
00000000000000000258ACCCCCDEFFFDB730000000000000
000000000000000000000012444442000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}
sprite $desktop [48x48/16] {
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000027999999999999999999999999999999999999600000
0005FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFD2000
000EFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA000
002FFB222222222222222222222222222222222223FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FF8000000000000000000000000000000000000FFE000
004FFB444444444444444444444444444444444444FFE000
004FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE000
004FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE000
004FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE000
004FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE000
003FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFE000
001FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC000
000BFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7000
0001DFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF80000
000003444444444444EFFFFFFFFFF8444444444444100000
000000000000000000FFFFFFFFFFF8000000000000000000
000000000000000005FFFFFFFFFFFF000000000000000000
00000000000000000DFFFFFFFFFFFF800000000000000000
00000000000000003FFFFFFFFFFFFFE00000000000000000
00000000000000000BEEEEEEEEEEEE600000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000
}

skinparam TitleFontSize 30
hide stereotype
legend right
|<color:#000000>**Legend**</color> |
|<#08427B> person |
|<#1168BD> system |
|<#438DD5> container |
|<#686868> external person |
|<#999999> external system |
endlegend

title
<b>Container diagram</b>
(based on C4 model)
end title

rectangle "<$person>\n==User\n\n Someone wanting to get the updated Velib's stations status" <<person>> as user

  
rectangle "==Velib Station Status\n<size:12>[System]</size>" <<boundary>> as c1 {
    rectangle "==HTML Application\n//<size:12>[Javascript, HTML, OpenLayers]</size>//\n\n <$desktop>\n Display a map with each station status and the user's location" <<container>> as htmlApplication
    rectangle "==Web Application\n//<size:12>[SpringBoot, Thymeleaf, embedded Tomcat]</size>//\n\n <$tomcat>\n Generate and deliver the main page with the current stations status" <<container>> as webApplication
    rectangle "==Producer Application\n//<size:12>[Java, Unirest, Kafka]</size>//\n\n <$java>\n Fetch stations data from Paris' API and push them to Kafka" <<container>> as producerApplication
    rectangle "==Streaming Application\n//<size:12>[Java, Kafka Streaming]</size>//\n\n <$java>\n Combine and process Paris's data to detect unavailable/anomalous stations" <<container>> as streamingApplication 
    database "==Kafka Cluster\n//<size:12>[Kafka, Schema Registry]</size>//\n\n <$kafka>" <<container>> as kafkaCluster
}
rectangle "==Paris OpenData API\n\n Expose stations and counters data" <<external_system>> as parisAPI
rectangle "==OpenLayers\n\n Provide OpenStreetMap data" <<external_system>> as openLayers

user - ->> webApplication : **1.Connect to web address**\n//<size:12>[HTTP]</size>//
user - ->> htmlApplication : **2.View stations status**\n//<size:12>[HTTP]</size>//

webApplication - ->> htmlApplication : **Delivers generated page**\n//<size:12>[HTTP]</size>//
htmlApplication - ->> openLayers : **Get the map backgrounds**\n//<size:12>[HTTP]</size>//

webApplication ->> kafkaCluster : **Consume the processed stations status**
producerApplication - ->> kafkaCluster : **Push the stations and traffic data**
streamingApplication - ->> kafkaCluster : **Process the stations data to detect anomalies and the traffic data to compute each station nearby traffic**
producerApplication - ->> parisAPI : **Get the stations and traffic data**\n//<size:12>[REST]</size>//
@enduml

PlantUML version 1.2020.15beta1(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>